<html>
<head>
	<title>Serialize Plugin</title>
	<link rel="stylesheet" href="../../../assets/stylesheets/documentation.css" />
</head>
<body class="tesla-documentation">

<h2>About the Serialize Plugin</h2>
<p>This plugin is used to store arrays, objects, or other variables as strings that can be returned to their original form. This allows the object to be saved into a file or a database and retrieved later.</p>

<p>For example, an array that's equal to array("hello", "world") would be serialized as the string: '["hello","world"]'</p>

<h2>Examples of serializing data</h2>
<pre>
	// Save an array as a serialized string
	$array = array("myKey" => "myValue");
	$string = Serialize::encode($array);
	
	// Decode a serialized value
	$array = Serialize::decode($string);
	
	// Save an array as a file
	Serialize::encodeFile($pathToFile, $array);
	
	// Retrieve a value from a serialized file
	$array = Serialize::decodeFile($pathToFile);
</pre>

<h2>Minifying with the Serialize Plugin</h2>
<p>This plugin can minify data into smaller strings for storage purposes. Note that this is NOT a packaging tool (like GZIP). The end result is still stored in plain text.</p>

<p>For example, if you're storing large quantities of json-based objects in the database (such as an object class for every event that gets created), you can limit the length of each key. The keys: $obj->title, $obj->description, and $obj->extraDetails could be minified into $obj->t, $obj->d, $obj->e. This saves 25 characters on every pass.</p>


<h2>Example of minifying an object</h2>
<textarea style="height:450px;">
// Prepare the original object
$obj = new Event();

$obj->title = "Party at the Olde Restaurant";
$obj->description = "We're all getting together at the restaurant this week.";
$obj->address = "123 Restaurant Street";
$obj->extraDetails = "Invite your friends!";

// Prepare the minify rules
$minifyKeys = array(
	"title"			=> "t"
,	"description"	=> "d"
,	"address"		=> "a"
,	"extraDetails"	=> "e"
);

// Set the object to have: $obj->t, $obj->d, $obj->a, $obj->e
$obj = Minify::changeKeys($obj, $minifyKeys);

// Store the object as JSON
$jsonObj = json_encode($obj);
</textarea>

<h2>Methods Available</h2>
<pre>
// Change the keys of an object (or array) to reduce the length of storage
$object = Minify::changeKeys($object, $keyChanges);

// Pack sequential numbers into ranges
$numericArray = Minify::numericArrayPack($numericArray);

// Unpack a numeric array that was minified
$numericArray = Minify::numericArrayUnpack($numericArray);
</pre>

</body>
</html>
