<html>
<head>
	<title>NAMEOFPLUGIN Plugin</title>
	<link rel="stylesheet" href="../../../assets/stylesheets/documentation.css" />
</head>
<body class="tesla-documentation">


</body>
</html>



/****** Upload Class ******
* This class provides a method for uploading images and files.
* 
****** Examples of using this class ******

// Check if the form is submitted
if(Form::submitted())
{
	// Set your image requirements
	$validateImage = array(
		'maxFileSize'		=> 1024 * 150			// 150 kilobytes
	,	'minWidth'			=> 50
	,	'maxWidth'			=> 1024
	,	'minHeight'			=> 50
	,	'maxHeight'			=> 1024
	,	'allowedMime'		=> array('image/gif', 'image/jpeg', 'image/pjpeg', 'image/png')
	,	'allowedExt'		=> array('png', 'jpg', 'gif')
	);
	
	//	# If you would like to add psd files (photoshop), add the following mimes & extensions:
	//	'image/photoshop', 'image/x-photoshop', 'image/psd', 'application/photoshop', 'application/psd', 'zz-application/zz-winassoc-psd'
	//	'psd'
	
	// Gather data about the image
	if($imageData = Upload::imageData($_FILES['image']))
	{
		// Set the image's save mode
		$imageData['saveMode'] = "overwrite_rename";
			// 'as_provided'			// This saves the provided file name, and rejects if there's a naming conflict
			// 'overwrite_existing'		// This overwrites the existing
			// 'overwrite_rename'		// This renames the image with unique characters if name conflicts
			// 'unique_name'			// This gives the image a unique name when uploaded; ignores original name
		
		// Prepare File Destination
		$imageData['directory'] = APP_PATH . "/assets/uploads";
		// $imageData['filename'] = $_POST['desiredImageName'];	// Can overwrite auto-generated filename if desired
		$imageData['ext'] = "jpg";		// The extension you intend to write as
		
		// Validate the image properties
		Upload::validateImage($imageData, $validateImage);
		Upload::validateImageDirectory($imageData);
		Upload::validateImageFilename($imageData, 22);
	}
	
	if(FormValidate::pass())
	{
		// Change the desired image type for saving purposes, if desired
		// $imageData['ext'] = "jpg";	// Changes the saved version to .jpg instead of its original
		
		// Upload the Image to the extension of your choice (this part can still fail)
		if(Upload::image($imageData, $imageData['ext']))
		{
			// Display success message
			Alert::success("Image Uploaded", "Your image has been uploaded!");
			
			// Resize the image after it's produced
			$image = new Image($imageData['directory'] . '/' . $imageData['filename'] . '.' . $imageData['ext']);
			$image->autoCrop(50, 50);
			$image->save($imageData['directory'] . '/' . $imageData['filename'] . '.' . $imageData['ext']);
		}
	}
}

// Show any errors, if present
echo Alert::display();

// Create the image upload form
echo '
<form action="/upload" method="post" enctype="multipart/form-data">' . Form::prepare() . '
	Upload Image: <input type="file" name="image"> <input type="submit" value="Submit">
</form>';

****** Methods Available ******
* $imageData = Upload::imageData($_FILES['image']);
* 
* Upload::validateImage($imageData, $validateImage);	// Tests if image is valid (based on your settings)
* Upload::validateImageDirectory($imageData);
* Upload::validateImageFilename($imageData);
*
* Upload::image($imageData, $toExt);	// Uploads an image to $fileDestination
*/